(function(){if(window._sniffActive)return;window._sniffActive=true;var foundUrls=new Set(),terminalFont="-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif",greenGlow="#00ff41%22,adRemoverInterval=null;/*%20---%20STYLE%20---%20*/var%20style=document.createElement('style');style.textContent=%60#hsc::-webkit-scrollbar{width:4px}#hsc::-webkit-scrollbar-thumb{background:#444;border-radius:10px}.h-card{margin-bottom:8px;padding:10px;background:#1e1e1e;border:1px%20solid%20#333;border-radius:6px;animation:fadeIn%20.2s}.h-btn{transition:.2s;cursor:pointer;user-select:none}.h-btn:active{transform:scale(.95);opacity:.7}@keyframes%20fadeIn{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:none}}%60;document.head.appendChild(style);/*%20---%20ICON%20---%20*/var%20icon=document.createElement('div');icon.innerHTML='%E2%9A%A1';icon.style.cssText=%60all:initial;font-family:${terminalFont};position:fixed;bottom:80px;right:20px;width:55px;height:55px;background:#222;color:${greenGlow};border:2px%20solid%20${greenGlow};border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;z-index:2147483647;box-shadow:0%204px%2015px%20rgba(0,0,0,.5);cursor:pointer;touch-action:none;%60;document.body.appendChild(icon);/*%20---%20PANEL%20---%20*/var%20panel=document.createElement('div');panel.style.cssText=%60all:initial;font-family:${terminalFont};position:fixed;bottom:0;left:0;width:100%;height:60%;background:#0a0a0a;color:#eee;z-index:2147483646;display:none;flex-direction:column;border-top:1px%20solid%20#333%60;var%20header=document.createElement('div');header.style.cssText='display:flex;background:#1a1a1a;border-bottom:1px%20solid%20#333;overflow-x:auto;flex-shrink:0';function%20createTab(name,fn,color){%20%20var%20t=document.createElement('div');%20%20t.innerText=name;%20%20t.style.cssText=%60%20%20%20%20padding:14px%2018px;%20%20%20%20font-size:12px;%20%20%20%20font-weight:bold;%20%20%20%20cursor:pointer;%20%20%20%20color:${color||'#ccc'};%20%20%20%20border-right:1px%20solid%20#333;%20%20%20%20white-space:nowrap%20%20%60;%20%20t.className='h-btn';%20%20t.onclick=e=%3E{e.stopPropagation();fn()};%20%20return%20t;}var%20content=document.createElement('div');content.id='hsc';content.style.cssText='flex:1;overflow-y:auto;padding:15px;box-sizing:border-box';/*%20---%20CORE%20---%20*/function%20logUrl(url,type,spec){%20%20if(!url||url.startsWith('blob:'))return;%20%20let%20f=url.replace(/\\u002f/g,'/').replace(/\\/g,'');%20%20if(f.includes('hls.mlive'))f=f.replace('hls.mlive','hdlf.mlive');%20%20if(f.includes('player.stream1689.com/p2p/')){%20%20%20%20f='https://master.streamhls.com/hls/'+f.split('/p2p/')[1].split('?')[0]+'/master.m3u8';%20%20%20%20type='S1689_CONV';%20%20}%20%20if(spec)f=url.replace('webrtc://','https://').split('?')[0]+'.m3u8'+(url.split('?')[1]?'?'+url.split('?')[1]:'');%20%20if(foundUrls.has(f))return;%20%20foundUrls.add(f);%20%20var%20c=document.createElement('div');%20%20c.className='h-card';%20%20c.innerHTML=%60%20%20%20%20%3Cdiv%20style=%22font-size:10px;color:${greenGlow};margin-bottom:5px%22%3E[${type}]%3C/div%3E%20%20%20%20%3Cdiv%20style=%22font-size:12px;word-break:break-all;margin-bottom:8px%22%3E${f}%3C/div%3E%20%20%20%20%3Cdiv%20style=%22display:flex;gap:10px%22%3E%20%20%20%20%20%20%3Cbutton%20class=%22h-btn%22%20style=%22all:initial;font-family:inherit;background:#333;color:#eee;padding:8px;flex:1;border-radius:4px;font-size:11px%22%3ECOPY%3C/button%3E%20%20%20%20%20%20%3Cbutton%20class=%22h-btn%22%20style=%22all:initial;font-family:inherit;background:${greenGlow};color:#000;padding:8px;flex:1;border-radius:4px;font-size:11px;font-weight:bold%22%3EOPEN%3C/button%3E%20%20%20%20%3C/div%3E%20%20%60;%20%20c.querySelectorAll('button')[0].onclick=()=%3E{navigator.clipboard.writeText(f);alert('%E0%B8%84%E0%B8%B1%E0%B8%94%E0%B8%A5%E0%B8%AD%E0%B8%81%E0%B9%81%E0%B8%A5%E0%B9%89%E0%B8%A7!')};%20%20c.querySelectorAll('button')[1].onclick=()=%3Ewindow.open(f,'_blank');%20%20content.prepend(c);}function%20scanVid(){%20%20document.querySelectorAll('video,source,iframe').forEach(e=%3E{%20%20%20%20let%20s=e.src||e.getAttribute('src');%20%20%20%20if(s&&s.startsWith('http'))logUrl(s,e.tagName);%20%20});%20%20document.querySelectorAll('script').forEach(sc=%3E{%20%20%20%20let%20m=sc.textContent.match(/(https?:\/\/[^%22'%20]+\.m3u8[^%22'%20]*)/);%20%20%20%20if(m)logUrl(m[1],'JS_M3U8');%20%20%20%20let%20r=sc.textContent.match(/%22roomId%22:%22(\d{5,})%22/);%20%20%20%20if(r)logUrl(r[1],'TIKTOK_ROOM');%20%20%20%20let%20p=sc.textContent.match(/%22hls_pull_url%22:%22(.*?)%22/);%20%20%20%20if(p)logUrl(p[1],'TIKTOK_LIVE');%20%20});}function%20toggleAds(){%20%20if(adRemoverInterval){%20%20%20%20clearInterval(adRemoverInterval);%20%20%20%20adRemoverInterval=null;%20%20%20%20alert('%E0%B8%9B%E0%B8%B4%E0%B8%94%E0%B8%A3%E0%B8%B0%E0%B8%9A%E0%B8%9A%20Bypass%20Ads');%20%20}else{%20%20%20%20adRemoverInterval=setInterval(()=%3E{%20%20%20%20%20%20var%20v=document.querySelector('video');%20%20%20%20%20%20if(v){%20%20%20%20%20%20%20%20document.querySelectorAll('[class*=%22skip%22],.ytp-ad-skip-button').forEach(b=%3Eb.click());%20%20%20%20%20%20%20%20if(v.duration%3C300)v.currentTime=v.duration;%20%20%20%20%20%20}%20%20%20%20},500);%20%20%20%20alert('%E0%B9%80%E0%B8%9B%E0%B8%B4%E0%B8%94%E0%B8%A3%E0%B8%B0%E0%B8%9A%E0%B8%9A%20Bypass%20Ads');%20%20}}function%20togglePanel(){%20%20var%20show=panel.style.display==='none';%20%20panel.style.display=show?'flex':'none';%20%20icon.style.opacity=show?'0.4':'1';%20%20if(show)scanVid();}/*%20---%20NETWORK%20---%20*/var%20oX=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(m,u){%20%20if(typeof%20u==='string'&&(u.includes('.m3u8')||u.includes('.mp4')))%20%20%20%20logUrl(u,'XHR');%20%20return%20oX.apply(this,arguments);};var%20oS=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(b){%20%20try{%20%20%20%20let%20j=JSON.parse(b);%20%20%20%20if(j?.data?.[0]?.str_stream_url)%20%20%20%20%20%20logUrl(j.data[0].str_stream_url,'QCLOUD',true);%20%20}catch(e){}%20%20return%20oS.apply(this,arguments);};window.fetch=(f=%3Efunction(){%20%20return%20f.apply(this,arguments).then(r=%3E{%20%20%20%20if(r.url.match(/\.m3u8|\.mp4/))logUrl(r.url,'FETCH');%20%20%20%20return%20r;%20%20});})(window.fetch);/*%20---%20IMG%20TAB%20---%20*/function%20openImages(){%20%20var%20imgs=[...document.images].map(i=%3Ei.src).filter(s=%3Es.startsWith('http'));%20%20var%20w=window.open('','_blank');%20%20w.document.write(%60%20%20%20%20%3Cbody%20style=%22background:#000;color:${greenGlow};font-family:sans-serif;padding:20px%22%3E%20%20%20%20%3Ch2%3EIMAGES%20(${imgs.length})%3C/h2%3E%20%20%20%20%3Cdiv%20style=%22display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px%22%3E%20%20%20%20${imgs.map(s=%3E%60%20%20%20%20%20%20%3Cdiv%20style=%22border:1px%20solid%20#333;padding:5px%22%3E%20%20%20%20%20%20%20%20%3Cimg%20src=%22${s}%22%20style=%22width:100%;height:auto;object-fit:cover%22%3E%20%20%20%20%20%20%20%20%3Ca%20href=%22${s}%22%20download%20style=%22color:#fff;font-size:12px;display:block;text-align:center%22%3ESave%3C/a%3E%20%20%20%20%20%20%3C/div%3E%60).join('')}%20%20%20%20%3C/div%3E%3C/body%3E%20%20%60);}/*%20---%20UI%20---%20*/header.appendChild(createTab('VIDEO',scanVid));header.appendChild(createTab('ADS',toggleAds,greenGlow));header.appendChild(createTab('IMG',openImages));header.appendChild(createTab('CLEAR',()=%3E{foundUrls.clear();content.innerHTML=''}));header.appendChild(createTab('CLOSE',togglePanel,'#ff4444'));panel.appendChild(header);panel.appendChild(content);document.body.appendChild(panel);/*%20---%20DRAG%20BUTTON%20(FIXED,%20ONLY%20PART%20CHANGED)%20---%20*/function%20makeDraggable(el){%20%20let%20sx=0,sy=0,ox=0,oy=0,moved=false,start=0;%20%20el.addEventListener('pointerdown',e=%3E{%20%20%20%20moved=false;%20%20%20%20start=Date.now();%20%20%20%20el.setPointerCapture(e.pointerId);%20%20%20%20const%20r=el.getBoundingClientRect();%20%20%20%20sx=e.clientX;%20sy=e.clientY;%20%20%20%20ox=r.left;%20oy=r.top;%20%20});%20%20el.addEventListener('pointermove',e=%3E{%20%20%20%20if(!el.hasPointerCapture(e.pointerId))return;%20%20%20%20const%20dx=e.clientX-sx,%20dy=e.clientY-sy;%20%20%20%20if(Math.abs(dx)%3E6||Math.abs(dy)%3E6){%20%20%20%20%20%20moved=true;%20%20%20%20%20%20el.style.left=ox+dx+'px';%20%20%20%20%20%20el.style.top=oy+dy+'px';%20%20%20%20%20%20el.style.right='auto';%20%20%20%20%20%20el.style.bottom='auto';%20%20%20%20}%20%20});%20%20el.addEventListener('pointerup',e=%3E{%20%20%20%20el.releasePointerCapture(e.pointerId);%20%20%20%20if(!moved%20&&%20Date.now()-start%3C300){%20%20%20%20%20%20togglePanel();%20%20%20%20%20%20return;%20%20%20%20}%20%20%20%20const%20mid=innerWidth/2;%20%20%20%20const%20x=parseInt(el.style.left||ox);%20%20%20%20el.style.transition='left%20.25s';%20%20%20%20el.style.left=(x%3Cmid)?'10px':(innerWidth-65)+'px';%20%20%20%20setTimeout(()=%3Eel.style.transition='',300);%20%20});}makeDraggable(icon);})();
